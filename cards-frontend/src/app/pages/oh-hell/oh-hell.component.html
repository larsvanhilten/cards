<vertical-revolver *ngIf="players.length" [players]="players" class="player-revolver"></vertical-revolver>

<div class="bids-container" *ngIf="this.isMyTurn && this.shouldBid && !trickWinner" @fade>
  <div *ngFor="let bid of bidOptions" (click)="placeBid(bid)" class="bid-option">{{ bid }}</div>
</div>

<div class="winner-container" *ngIf="trickWinner && !playedCards.length" @winner-fade (@winner-fade.done)="onWinnerTitleShowed()">
  <h2>{{ trickWinner?.username }} wins the trick</h2>
</div>

<div cdkDropListGroup class="card-group">
  <div class="stacks-container">
    <div class="trump-container">
      <img *ngIf="trump" class="card" [src]="'/assets/cards/' + trump.suit + '-' + trump.rank + '.svg'" @fade />
    </div>
    <div
      class="played-cards-container"
      cdkDropList
      [cdkDropListData]="playedCards"
      [cdkDropListEnterPredicate]="canPlayCard"
      (cdkDropListDropped)="playCard($event)"
    >
      <img
        *ngFor="let card of playedCards; index as i"
        class="card"
        [style.z-index]="i"
        [src]="'/assets/cards/' + card.suit + '-' + card.rank + '.svg'"
      />
      <flippable-card
        *ngIf="cardPlayed || (!this.shouldBid && !this.isMyTurn)"
        [card]="cardPlayed"
        [@fade]="!!cardPlayed"
        [@card-move]="!!cardPlayed"
        (@card-move.done)="addCardToStack()"
        class="flip-card"
      ></flippable-card>
    </div>
  </div>
  <div class="hand-container" cdkDropList [cdkDropListData]="hand">
    <img
      *ngFor="let card of hand"
      [style.marginLeft.%]="-10 + hand.length * -0.7"
      class="card"
      [src]="'/assets/cards/' + card.suit + '-' + card.rank + '.svg'"
      cdkDrag
      [cdkDragData]="card"
      @fade
    />
  </div>
</div>

<bottom-bar class="menu"></bottom-bar>
